{% extends "layout.html" %}

{% block contents %}
<article class="find">
    {% if path.toString() == "" %}
    <p>전체 경로에서 검색합니다.</p>
    {% else %}
    <p>{{ path.name }}의 하위 페이지를 검색합니다.</p>
    <p>만약 모든 페이지를 검색하고 싶다면 <a href="/?find">전체검색</a>를 누르세요</p>
    {% endif %}
    <form>
        <input type="search" name="find"/>
        <input type="submit" value="검색"/>
    </form>
    {% if result != null %}
    {% if path == "" %}
    <h2>전체 페이지 검색결과</h2>
    {% else %}
    <h2>하위 페이지 검색결과</h2>
    {% endif %}
    <ul>
        {% for key, value in result %}
        <li>
            <a href="{{ value.path }}">{{ value.name }}</a>
            {% if value.lines %}
            <table>
                {% for line in value.lines %}
                <tr>
                    <th>{{ line.num }}</th>
                    <td>{{ line.value }}</td>
                </tr>
                {% endfor %}
            </table>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
    {% endif %}
</article>
{% endblock %}
