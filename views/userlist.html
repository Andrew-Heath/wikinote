{% extends "layout.html" %}

{% block title %}
Users - {{ config.wikiname }}
{% endblock %}

{% block style %}
{% parent %}
<link rel="stylesheet" href="/!public/stylesheets/admin.css"/>
{% endblock %}

{% block contents %}
<article class="userlist">
	<h1>User List</h1>
	<ul>
		{% for user in users %}
		<li class="user" data-id="{{user.id}}">
			<p>{{user.id}} &lt;{{user.email||"NONE"}}&gt;</p>
			<fieldset>
				<legend>Permissions</legend>
				<ul class="permissions">
					{% spaceless %}
					{% for permission in user.permissions %}
					<li class="permission" data-permission="{{permission}}">
						<span>{{permission}}</span>
						<button class="delete">
							<i class="fa fa-remove"></i>
						</button>
					</li>
					{% endfor %}
					<li class="add">
						<label>
							<i class="fa fa-plus"></i>
							<input type="text" placeholder="label name"/>
						</label>
					</li>
					{% endspaceless %}
				</ul>
			</fieldset>
			<button class="user"><i class="fa fa-trash-o"></i>Delete</button>
		</li>
		{% endfor %}
	</ul>
</article>
{% endblock %}

{% block scripts %}
<script src="/!public/lib/q.js"></script>
<script src="/!public/javascripts/utils.js"></script>
<script src="/!public/javascripts/userlist.js"></script>
{% endblock %}
